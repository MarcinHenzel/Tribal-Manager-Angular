<main>
  <div class="inputs-container">
    <form class="time-form" [formGroup]="timeForm" novalidate>
      <mat-form-field class="datetime-local">
        <input matInput type="datetime-local" formControlName="destinationTime" placeholder="start date">
      </mat-form-field>
      <fieldset>
        <h5>Sleep time</h5>
        <mat-form-field class="sleepInput">
          <mat-label>From</mat-label>
          <input matInput type="number" formControlName="sleepFrom" min=0 max=24>
        </mat-form-field>
        <mat-form-field class="sleepInput">
          <mat-label>To</mat-label>
          <input matInput type="number" formControlName="sleepTo" min=0 max=24>
        </mat-form-field>
      </fieldset>
      <mat-form-field class="armySpeed-container">
        <mat-label>Army speed</mat-label>
        <mat-select formControlName="unit" class="unitSelect">
          <mat-option *ngFor="let unit of this.utilityService.units | keyvalue:keepOriginalOrder" [value]="unit.value">
            {{unit.key}}</mat-option>
        </mat-select>
      </mat-form-field>
    </form>
    <form class="coords-form" [formGroup]="coordsForm">
      <label for="offs">Sender Villages: {{sources.value.split(' ').length-1}}</label>
      <textarea #sources formControlName="sources"  placeholder="111|222 222|333 333|444..." class='coordInput' id='offs'></textarea>
      <label for="targets">Targets: {{targets.value.split(' ').length-1}}</label>
      <textarea #targets formControlName="targets" placeholder='111|222 222|333 333|444...' class='coordInput' id='targets'></textarea>
    </form>
  </div>
  <button (click)="findBestAttackPlan()" id="inputs-btn">Find Best Attack Plan</button>
  <div class="answer" id='answer'>
    <ul>
      <li [ngClass]="{'sleepTime': answer.sleepTime}" *ngFor="let answer of orderArr; let i = index">
        {{i+1}} {{answer.timeAttack | date: 'medium'}} Source: {{answer.from}} Target: {{answer.to}}</li>
    </ul>
  </div>
</main>
